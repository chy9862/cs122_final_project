{% extends 'base.html' %} {% block title %}Search{% endblock %}

{% block content %}
    <div class="container d-md-flex d-xxl-flex justify-content-center justify-content-md-center justify-content-xxl-center"
         style="margin-top: 26px;">
        <div class="col-md-9 col-xl-8 ml-auto mr-auto" style="min-width: inherit;max-width: inherit;">
            <form method="POST" style="min-width: inherit;">
                <div class="align-items-center form-row" style="min-width: inherit;">
                    <div class="col-sm form-group mb-3" style="min-width: inherit;"><input
                            class="form-control form-control ps-4 pe-4 rounded-pill" type="text" name="search"
                            placeholder="Search..." style="min-width: inherit;text-align: center;"></div>
                    <div class="d-flex d-xxl-flex justify-content-center justify-content-xxl-center col-sm-auto text-end form-group mb-3"
                         style="position: relative;">
                        <button class="btn btn-primary d-xxl-flex justify-content-xxl-end ps-4 pe-4 rounded-pill"
                                type="submit"><i class="fa fa-search d-xxl-flex justify-content-xxl-end"></i></button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="col" style="height: 600px;overflow: hidden;">
        <div class="row" style="overflow: scroll;height: inherit;">
            {% for event in events %}
                <div class="col-4 py-3 mx-auto col-xl-4 col-lg-6 col-md-6 col-sm-12"
                     style="min-width:300px;min-height:300px;">
                    <div class="card" style="width:100%;height:100%;">
                        <!-- Dynamically change the source of the image using Jinja2 -->
                        <img class="img-fluid card-img-top" style="height:200px;" src="{{ event.image_url }}">
                        <div class="card-body">
                            <!-- Use Jinja2 to insert event details dynamically -->
                            <h5>{{ event.event_name }}</h5>
                            <p>{{ event.venue }}, {{ event.city }}</p>
                            <p>{{ event.event_date }}</p>
                        </div>
                        <!-- Dynamically change the href to link to the Ticketmaster event page -->
                        <div class="card-footer text-center">
                            <small>
                                <a href="{{ event.event_url }}" style="color: var(--bs-primary);">
                                    <i class="fa fa-eye pe-1"></i>View Event
                                </a>
                            </small>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}